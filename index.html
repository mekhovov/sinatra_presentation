<!DOCTYPE html>
<!--
Copyright 2011 Google Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

Author: Eric Bidelman (ericbidelman@chromium.org)
        Arne Roomann-Kurrik (kurrik@chromium.org)
-->
<html>
<head>
  <title>Sinatra: Sing with me this ditty</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link href='http://fonts.googleapis.com/css?family=Bad+Script' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/prettify.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet/less" type="text/css" href="css/slide-presentation.less">
  <link rel="stylesheet/less" type="text/css" href="css/slide-content.less">
</head>
  <body>
    <script type="text/html">
      <!DOCTYPE html>
      <html>
        <style>h1 { font:18pt Arial; color: #ccc; text-align: center; }</style>
        <body>
          <h1>loading...</h1>
        </body>
      </html>
    </script>

    <div id="content" class="hidden">
      <div id="bg-pattern" class="background"></div>
      <div id="bg-white" class="background"></div>
      <div id="bg-black" class="background"></div>
      <div id="bg-google-blue" class="background"></div>
      <div id="bg-blueprint" class="background"></div>
      <div id="bg-google-darkblue" class="background"></div>
      <div id="bg-google-green" class="background"></div>
      <div id="bg-google-yellow" class="background"></div>
      <div id="bg-google-red" class="background"></div>
      <div id="bg-binary" class="background"></div>
      <div id="bg-file" class="background"></div>
      <div id="bg-clutter" class="background"></div>
      <div id="bg-filecabinets" class="background"></div>
      <div id="bg-audio" class="background"></div>
      <div id="bg-declarative" class="background"></div>
      <div id="bg-drawline" class="background"></div>
      <div id="bg-degree" class="background"></div>

      <div id="bg_sinatra_01" class="background"></div>
      <div id="bg_linen" class="background"></div>
      <div id="bg_01" class="background"></div>
      <div id="bg_striped_blue" class="background"></div>
      <div id="bg_striped_violet" class="background"></div>
      <div id="bg_striped_grey" class="background"></div>

<div id="bg_ruby_what_is" class="background"></div>
<div id="bg_ruby_light" class="background"></div>
<div id="bg_ruby_functional" class="background"></div>
<div id="bg_ruby_elegant" class="background"></div>
<div id="bg_ruby_dynamic" class="background"></div>
<div id="bg_ruby_reflective" class="background"></div>
<div id="bg_ruby_os" class="background"></div>
<div id="bg_ruby_flexible" class="background"></div>
<div id="bg_ruby_language" class="background"></div>


<div id="bg_ror_1" class="background"></div>
<div id="bg_scene" class="background"></div>
<div id="bg_metal" class="background"></div>

<div id="bg-01" class="background"></div>
<div id="bg-02" class="background"></div>
<div id="bg-03" class="background"></div>
<div id="bg-04" class="background"></div>
<div id="bg-05" class="background"></div>
<div id="bg-06" class="background"></div>
<div id="bg-07" class="background"></div>
<div id="bg-08" class="background"></div>
<div id="bg-09" class="background"></div>
<div id="bg-10" class="background"></div>
<div id="bg-11" class="background"></div>
<div id="bg-12" class="background"></div>
<div id="bg-13" class="background"></div>
<div id="bg-14" class="background"></div>
<div id="bg-15" class="background"></div>
<div id="bg-16" class="background"></div>
<div id="bg-17" class="background"></div>
<div id="bg-18" class="background"></div>
<div id="bg-19" class="background"></div>
<div id="bg-20" class="background"></div>
<div id="bg-21" class="background"></div>
<div id="bg-22" class="background"></div>
<div id="bg-23" class="background"></div>
<div id="bg-24" class="background"></div>
<div id="bg-25" class="background"></div>
<div id="bg-26" class="background"></div>
<div id="bg-27" class="background"></div>
<div id="bg-28" class="background"></div>
<div id="bg-29" class="background"></div>
<div id="bg-30" class="background"></div>
<div id="bg-31" class="background"></div>
<div id="bg-32" class="background"></div>
<div id="bg-33" class="background"></div>
<div id="bg-34" class="background"></div>
<div id="bg-35" class="background"></div>
<div id="bg-36" class="background"></div>
<div id="bg-37" class="background"></div>
<div id="bg-38" class="background"></div>
<div id="bg-39" class="background"></div>
<div id="bg-40" class="background"></div>
<div id="bg-41" class="background"></div>
<div id="bg-42" class="background"></div>
<div id="bg-43" class="background"></div>
<div id="bg-44" class="background"></div>
<div id="bg-45" class="background"></div>
<div id="bg-46" class="background"></div>
<div id="bg-47" class="background"></div>
<div id="bg-48" class="background"></div>
<div id="bg-49" class="background"></div>


<!=========================================== The Beginning ===================================================
 *
 * Let's Go, Slides
 *
-->

<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * slide001 | Preflight
 *
-->
<div class="slide transparent centercontents" id="slide-preflight"  data-backgroundid="bg_01">
  <section class="white_text_small">
    <!-- <h2>Preflight</h2>
    <div id="browser-webkit" class="hidden good feature">
      <div><img src='images/icons/ok.png'/> Webkit</div>
    </div>
    <div id="browser-mozilla" class="hidden warning feature">
      <div><img src='images/icons/warning.png'/> Mozilla</div>
      <div class="explanation">
        You are running a Mozilla browser.  While such browsers generally have
        excellent support for HTML5 features, this presentation has only
        been tested using WebKit browsers such as
        <a href="http://www.google.com/chrome">Google Chrome</a> or
        <a href="http://www.apple.com/safari/">Safari</a>.
        You should still be able to navigate the slides by using left/right
        arrow keys, but will currently see display errors with regard
        to the 3d rendering of the slides and some demo content.
      </div>
    </div>
    <div id="browser-other" class="hidden bad feature">
      <div><img src='images/icons/error.png'/> Other browser</div>
      <div class="explanation">
        You are running a browser that has not been tested with this
        presentation.  You may not be able to run some or all of the samples
        listed here.  While we want to add support for as many browsers as
        possible, currently we only support WebKit-based browsers such as
        <a href="http://www.google.com/chrome">Google Chrome</a> or
        <a href="http://www.apple.com/safari/">Safari</a>.
      </div>
    </div>
    <div id="feature-webgl" class="hidden good feature">
      <div><img src='images/icons/ok.png'/> WebGL: available</div>
    </div>
    <div id="feature-no-webgl" class="hidden bad feature">
    </div>
    <div id="feature-notification" class="hidden">
      <div id="notification-on" class='hidden warning feature'>
        <div><img src='images/icons/warning.png'/> Notification permission incorrect</div>
        <div class="explanation">
          You have granted permission for this page to show notifications.
          If you intended to demo the request permission functionality, you
          may want to clear this permission by clicking
          <a href="javascript:resetNotifications();">here</a> and removing
          the permission.
        </div>
      </div>
      <div id="notification-off" class='hidden good feature'>
        <div><img src='images/icons/ok.png'/> Notification permission correct</div>
      </div>
    </div>
    <div id="feature-no-notification" class="hidden bad feature">
      <div><img src='images/icons/error.png'/> No notification</div>
      <div class="explanation">
        Your browser does not support displaying notifications.  Currently,
        only <a href="http://www.google.com/chrome">Google Chrome</a>
        will support this functionality.
      </div>
    </div>
    <div id="feature-file" class="hidden good feature">
      <div><img src='images/icons/ok.png'/> File APIs: available</div>
    </div>
    <div id="feature-no-file" class="hidden bad feature">
      <div><img src='images/icons/error.png'/> File APIs are not supported</div>
      <div class="explanation">
        Your browser does not support one or more of the following APIs:
        <code>File</code>, <code>FileList</code>, <code>FileReader</code>.
      </div>
    </div>
    <div id="feature-filesystem" class="hidden good feature">
      <div><img src='images/icons/ok.png'/> File System API: available</div>
    </div>
    <div id="feature-no-filesystem" class="hidden bad feature">
      <div><img src='images/icons/error.png'/> File System API: not supported</div>
      <div class="explanation">
        Your browser does not support the File System API for
        reading/writing files and directories.
      </div>
    </div>
    <div id="feature-filesystem-quota" class="hidden warning feature">
      <div><img src='images/icons/warning.png'/> File System API: partial support</div>
      <div class="explanation">
        The File System API are available in your browser, but write access is
        unavailable. Are you running Google Chrome with the <code>--unlimited-quota-for-files</code> flag?
      </div>
    </div>
    <div id="feature-web-audio" class="hidden good feature">
      <div><img src='images/icons/ok.png'/> Web Audio API: available</div>
    </div>
    <div id="feature-no-web-audio" class="hidden bad feature">
      <div><img src='images/icons/error.png'/> Web Audio API: not supported</div>
      <div class="explanation">
        Your browser does not support the <a href="http://chromium.googlecode.com/svn/trunk/samples/audio/specification/specification.html" target="_blank">Web Audio API</a>.
        If using Google Chrome, you need Mac OSX and to enable the API in <code>about:flags</code>.
      </div>
    </div>
  </section> -->
  
  <section class="white_text_large">
    <h2>Controls</h2>
    <ul>
      <li>Space or <span class="key">&larr;</span> / <span class='key'>&rarr;</span> to move around</li>
      <li><span class="key">Ctrl/Command</span> / <span class='key'>–</span> or <span class='key'>+</span> to zoom in and out if slides don’t fit</li>
      <li><span class="key">N</span> to show/hide notes <span class="key">H</span> to highlight elements</li>
    </ul>
    <hr>
      If things look good, press <span class="key">→</span> to move on.
  </section>
  
  <br><br><br><br><br><br><br><br><br><br>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * Title
 *
-->

<div class="slide transparent image" data-backgroundid="bg_metal">
  <!-- TODO: fix image, add some text -->
  
  <div data-build>
    <section data-auto style="background:none">
    <span style="margin-left:130px">
      <img src="images/sinatra_metal.png" style="height:500px;margin-top:150px">
      <div class="topmic">
        <h1 style="margin-left:330px;margin-top:-200px;font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px; color:orange">Sing with me</h1>
      </div>
      <span>
        <h1 style="margin-left:390px;margin-top:20px;font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px; color:orange">this ditty</h1>
      <span>
    </span>
    </section>
  </div>
</div>





<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * Today's Agenda
 *
-->
<div class="slide centercontents" id="slide-agenda" data-backgroundid="bg-02">
  <header>Agenda</header>
  <section>
    <div class="item">
      <img style="max-width:70px" src="images/topic_1.png" />
      <span class="grintheme" style="margin-bottom: 30px;"><b>Sinatra:</b> about</span>
    </div>
    <div class="item">
      <img style="max-width:70px" src="images/topic_2.png" />
      <span class="redtheme" style="margin-bottom: 30px;"><b>Site:</b> up and running</span>
    </div>
    <div class="item">
      <img style="max-width:70px" src="images/topic_3.png" />
      <span class="bluetheme" style="margin-bottom: 30px;"><b>Deploy:</b> in minutes</span>
    </div>
    <div class="item">
      <img style="max-width:70px" src="images/topic_4.png" />
      <span class="purpletheme" style="margin-bottom: 30px;"><b>DB:</b> just use it</span>
    </div>
    <div class="item">
      <img style="max-width:70px" src="images/topic_5.png" />
      <span class="" style="margin-bottom: 30px;"><b>Sinatra:</b> more</span>
    </div>

  </section>
</div>






<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 1. Sinatra: about
 *
-->
<div class="slide transparent image" data-backgroundid="bg-03">
  <div data-build>
    <section class="bottomWide dark" data-auto>
      <h1><img style="max-width:90px; margin-bottom: -10px;" src="images/topic_1.png" />
      <span class="grintheme" style="font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px;"><b>Sinatra:</b> about</span></h1>
    </section>
  </div>
</div>





<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 1.1. What is Sinatra?
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
  <section >
    <div style="font-size:110%; color:#fff" class="shadow">
      <h1>Sinatra is a <span class="mark_yellow">Ruby</span> <span class="mark_red">DSL</span>,</h1>
      <h1> <span class="mark_green">micro</span> <span class="mark_purple">framework</span></h1>
      <h1>for <span class="mark_yellow">quickly</span> creating </h1>
      <h1><span class="mark_blue">web</span> applications</h1>
      <h1> with minimal effort</h1>
      <h1><span class="mark_white"><a href='http://sinatrarb.com' style="color:#112" target="_blank">http://sinatrarb.com</a></span></h1>
    </div>
  </section>
</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - I know, what you are thinking about!
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-04">
  <section >
    <div style="font-size:120%; color:#fff; position:relative; top:-250px;">
      <h1 class="font_3 shadow">I know, what you are thinking about!</h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - MVC
 * TODO: img with crossovok?
-->
<div class="slide transparent centercontents" data-backgroundid="bg-05">
  <section >
    <div style="font-size:280%; color:#fff; position:relative; left:300px; top: -270px">
      <h1><span class="mark_red">M</span> <span class="mark_yellow">V</span> <span class="mark_blue">C</span></h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - WAT?
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-06">
  <section >
    <div style="font-size:210%; color:#fff">
      <h1><span class="mark_red">W A T</span> <span class="mark_blue">?</span><span class="mark_blue">?</span><span class="mark_purple">!</span></h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - RESTful HTTP Actions !
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-07">
  <section >
    <div style="font-size:160%; color:#fff; position:relative; left:-170px; top: 30px">
      <h1><span class="mark_red">RESTful</span> <span class="mark_yellow">HTTP</span> <span class="mark_green">Actions</span> <span class="mark_blue">!</span></h1>
    </div>
  </section>
</div>

<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - sinatra vs mvc
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-34">
  <section >
    <div style="font-size:120%; color:#fff">
        <h1>
          <span class="mark_red" style="position:relative; left:410px; top: -120px">MVC</span>
          <span class="mark_green" style="position:relative; left:-450px; top: -120px">Sinatra</span>
        </h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 1.2. For whom?
 *
-->
<div class="slide transparent image" data-backgroundid="bg-08">
  <div data-build>
    <section style="position:relative; left:470px; top: 30px; width:320px;" data-auto>
      <h1 style="font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px;">&nbsp;For whom?</h1>
    </section>
  </div>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - For YOU !!
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-09">
  <section style="position:relative; top: -280px; ">
    <div style="font-size:210%; color:#fff">
      <h1> <span class="mark_blue">For</span> <span class="mark_red">Y O U</span> <span class="mark_purple">!</span></h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - For YOU too !!
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-10">
  <section style="position:relative; top: -280px; ">
    <div style="font-size:210%; color:#fff">
      <h1><span class="mark_blue">For</span> <span class="mark_red">Y O U</span> <span class="mark_green">too</span> <span class="mark_purple">!</span></h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - and for them !!
 * TODO: add photo from conf
-->
<div class="slide transparent centercontents" data-backgroundid="bg-11">
  <section style="position:relative; top: -280px; ">
    <div style="font-size:210%; color:#fff">
      <h1> <span class="mark_green">And</span> <span class="mark_blue">for</span> <span class="mark_red">them</span> <span class="mark_purple">!</span></h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 *  1.3. For What?
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-16">
  <section style="position:relative; top: -50px; ">
    <div style="font-size:210%; color:#fff">
      <h1> <span class="mark_green">For</span> <span class="mark_red">What</span> <span class="mark_purple">?</span></h1>
    </div>
  </section>
</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 1.1. What is Sinatra?
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
  <section >
    <div style="font-size:110%; color:#fff" class="shadow">
        <h1>- Hosting <span class="mark_yellow">static</span> files</h1>
        <h1>- Any <span class="mark_green">dynamic</span> sites</h1>
        <h1>- <span class="mark_red">Statistics</span> apps</h1>
        <h1>- <span class="mark_purple">RESTful</span> <span class="mark_blue">API</span></h1>
        <h1>- <span class="mark_green">R</span> + <span class="mark_yellow">M</span> + <span class="mark_purple">V</span> + <span class="mark_blue">C</span> + ...</h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 *  1.4. Why?
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-17">
  <section style="position:relative; top: -300px; ">
    <div style="font-size:210%; color:#fff">
      <h1> <span class="mark_red">&nbsp;W h y ?&nbsp;</span></h1>
    </div>
  </section>
</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 *  - Lightweight
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-18">
  <section style="position:relative; top: -280px; left: 300px">
    <div style="font-size:210%; color:#fff">
      <h1> <span class="mark_blue">&nbsp;Lightweight&nbsp;</span></h1>
    </div>
  </section>
</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 *  - Easy
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-19">
  <section style="position:relative; top: -180px; left: -200px">
    <div style="font-size:210%; color:#fff">
      <h1> <span class="mark_green">&nbsp;Easy&nbsp;</span></h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 *  - Really fast development
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-20">
  <section style="position:relative; top: -295px; ">
    <div style="font-size:170%; color:#fff">
      <h1> <span class="mark_red">&nbsp;Really fast development&nbsp;</span></h1>
    </div>
  </section>
</div>






<!--------------------------------------- Slide  -------------------------------------------------------
 *
 *  - Let's do it!
 * TODO: clear 'rapuncel'
-->
<div class="slide transparent centercontents" data-backgroundid="bg-21">
  <section style="position:relative; top: -150px; left: 300px">
    <div style="font-size:170%; color:#fff">
      <h1> <span class="mark_green">&nbsp;Let's do it!&nbsp;</span></h1>
    </div>
  </section>
</div>






<!--------------------------------------- Slide -------------------------------------------------------
 *
 * Up and Running
 *
-->
<div class="slide centercontents" data-backgroundid="bg-22">
  <header>Let's do it!</header>
  <section>
<pre style="font-size:36px">
# ditty.rb

require 'sinatra'

get '/' do
  'Sing with me!'
end
</pre>
</section>
<section data-build>
<pre style="font-size:36px">
$ gem install sinatra
</pre>
</section>

<section data-build>

<pre style="font-size:36px">
$ ruby ditty.rb
</pre>
</section>

</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * WAT
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-23">
  <section style="margin-top: -340px; margin-left: 100px">
    <div style="font-size:210%; color:#fff">
      <h1><span class="mark_red">W A T</span> <span class="mark_blue">?</span><span class="mark_blue">?</span><span class="mark_purple">!</span></h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * REST
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-24">
  <section >
    <div style="font-size:150%; color:#fff">
      <span style="margin-left:60px">
        <img src="images/sinatra_rock_logo.png" style="width:600px;margin-top:0; margin-left:70px">
      </span>
      
      <h1 style="width:1100px;margin-top:370px; margin-left:-70px"> <span class="mark_yellow">Yep, it's </span> <span class="mark_blue">Whole</span> <span class="mark_red">WEB</span> <span class="mark_green">Application</span></h1>
    </div>
  </section>
</div>





<!--------------------------------------- Slide -------------------------------------------------------
 *
 * Go to Browser
 *
-->
<div class="slide centercontents" data-backgroundid="bg-01">
  <header>Go to browser</header>
  <section>
    <span>
        <img src="images/screen-1.png" style="width:800px;">
      </span>
  </section>
</div>



<!--------------------------------------- Slide -------------------------------------------------------
 *
 * Go to Browser
 *
-->
<div class="slide centercontents" data-backgroundid="bg-01">
  <header>Go to browser for beer</header>
  <section>
    <span>
        <img src="images/screen-2.png" style="width:800px;">
      </span>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 *  1.5. About Sinatra
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-25">
  <section >
    <div style="font-size:86%; color:#000; margin-left:320px;text-shadow: none" class="shadow">
        <h1><span class="mark_white">Single file</span> <span class="mark_yellow">web-application</span></h1>
        <h1><span class="mark_green">Speed</span> <span class="mark_white">and</span> <span class="mark_purple">Minimalism</span></h1>
        <h1><span class="mark_white">Tons of</span> <span class="mark_purple">modules</span> <span class="mark_white">and</span> <span class="mark_blue">gems</span></h1>
        <h1><span class="mark_white">Runs on</span> <span class="mark_blue">Rack</span></h1>
        <h1><span class="mark_white">Your choice of</span> <span class="mark_green">Template Engine</span></h1>
        <h1><span class="mark_white">Your choice of</span> <span class="mark_yellow">ORM</span></h1>
        <h1><span class="mark_white">~</span> <span class="mark_red">2000</span> <span class="mark_white">requests/sec</span></h1>
    </div>
  </section>
</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * I know, about what you are thinking!
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-26">
  <section >
    <div style="font-size:100%; color:#fff; position:relative; top:-270px;">
      <h1 class="font_3 shadow">Oh man, I know, what you are thinking about!</h1>
    </div>
  </section>
</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * Install Ruby
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-27">

  <section style="margin-left: 390px">
    <div style="font-size:130%; color:#fff">
      <h4 class="font_3 shadow">Why I have to install <span class="mark_green">Ruby</span></h4>
    </div>
  </section>

  <section style="margin-left: 390px" data-build>
    <div style="font-size:130%; color:#fff">
      <h3 class="font_3 shadow">Why I have to install <span class="mark_green">Ruby</span></h3>
    </div>
  </section>

  <section style="margin-left: 390px" data-build>
    <div style="font-size:130%; color:#fff">
      <h1 class="font_3 shadow">Why I have to install <span class="mark_green">Ruby</span></h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * It's not a problem
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-28">

  <section style="margin-left: 170px; ">
    <div style="font-size:110%; color:#fff">
      <h1><span class="mark_white">Just</span> <span class="mark_blue">calm down</span></h1>
    </div>
  </section>

  <section style="margin-left: 170px; " data-build>
    <div style="font-size:110%; color:#fff">
      <h1><span class="mark_white">It's</span> <span class="mark_red">NOT</span> <span class="mark_white">a problem!</span></h1>
    </div>
  </section>

  <section style="margin-left: 170px; " data-build>
    <div style="font-size:110%; color:#fff">
      <h1><span class="mark_green">Really.</span></h1>
    </div>
  </section>

  <section style="margin-left: 650px;" data-build>
    <div style="font-size:100%; color:#fff">
      <h1><span class="mark_green">MacOS</span> <span class="mark_white">has</span> <span class="mark_green">Ruby</span></h1>
    </div>
  </section>

  <section style="margin-left: 550px;" data-build>
    <div style="font-size:100%; color:#fff">
      <h1><span class="mark_green">Ubuntu</span> <span class="mark_white" style="font-size:70%;">$ apt-get install ruby</span></h1>
    </div>
  </section>

  <section style="margin-left: 650px;" data-build>
    <div style="font-size:130%; color:#fff">
      <h1><span class="mark_red">Windows</span> <span class="mark_black">...</span></h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * WAT
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-29">
    <section style="margin-top: -180px">
    <div style="font-size:180%; color:#fff; margin-top: -80px">
      <h1><span class="mark_red">W A T</span> <span class="mark_blue">?</span><span class="mark_blue">?</span><span class="mark_purple">!</span></h1>
    </div>
  </section>

  <section >
    <div style="font-size:130%; color:#fff">
      <h1><span class="mark_yellow">Windows</span></h1>
    </div>
  </section>

  <section >
    <div style="font-size:130%; color:#fff">
      <h1><span class="mark_white">Are You</span> <span class="mark_green">Serious</span> <span class="mark_white">??</span></h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * Ruby on Windows
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-30">
    <section style="margin-left: -580px">
    <div style="font-size:110%; color:#fff">
      <h1><span class="mark_black">Yep, you can use</span> <span class="mark_green">Ruby</span></h1>
      <h1><span class="mark_black">On your lovely</span> <span class="mark_purple">Windows</span></h1>
      <h2><span class="mark_white"><a href='http://rubyinstaller.org' style="color:#112" target="_blank">http://rubyinstaller.org</a></span></h2>
    </div>
  </section>

</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * Let's talk about Sinatra
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-31">
    <section>
    <div style="font-size:110%; color:#111">
      <h1><span class="mark_white">Let's talk about</span> <span class="mark_red">Sinatra</span></h1>
    </div>
  </section>

</div>



<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 1.6. Shortly about Ruby
 * TODO: Text fix
-->
<div class="slide centercontents"  data-backgroundid="bg-01">
  <header>But before about Ruby</header>
  <section>
    <h4>Ruby is…</h4>
    A dynamic, open source programming language with a focus on simplicity and productivity. It has an elegant syntax that is natural to read and easy to write. <a href="http://www.ruby-lang.org/en/about/" target="_blank">Read More…</a> <br>
    <h4>Gem is…</h4>
    A gem is a packaged Ruby application or library. <a href="http://rubygems.org" target="_blank">More…</a> <br>
  </section>

</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * TOPIC 2: Site: up and running
 *
-->
<div class="slide transparent image" data-backgroundid="bg-12">
  <div data-build>
    <section class="bottomWide dark" data-auto>
      <h1><img style="max-width:90px; margin-bottom: -10px;" src="images/topic_2.png" />
      <span class="redtheme" style="font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px;"><b>Site:</b> up and running</span></h1>
    </section>
  </div>
</div>








<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 2.1. Routes
 *
-->
<div class="slide centercontents" data-backgroundid="bg-01">
  <header>Routes</header>
  <section>
<pre style="font-size:26px">
<b><span class="mark_green">get</span></b> '/' do
  # .. <b>show</b> something ..
end
</pre>

<pre style="font-size:22px">
<b><span class="mark_blue">post</span></b> '/' do
  # .. <b>create</b> something ..
end
</pre>

<pre style="font-size:22px">
<b><span class="mark_purple">put</span></b> '/' do
  # .. <b>replace</b> something ..
end
</pre>

<pre style="font-size:22px">
<b><span class="mark_red">delete</span></b> '/' do
  # .. <b>annihilate</b> something ..
end
</pre>

  </section>
</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 2.2. Custom Routes
 * TODO: text to be easy
-->
<div class="slide centercontents">
  <header>Custom Routes</header>
  <section>
<pre style="font-size:28px">
get '/hello/<b><span class="mark_green">:name</span></b>' do
  "Hello #{params[<b>:name</b>]}!"
end

<!-- # matches "GET /hello/foo</b>" and "GET /hello/bar>"
# params[:name] is 'foo' or 'bar' -->
</pre>
</section>

<section data-build>
<pre style="font-size:28px">
get '/say/<b><span class="mark_black">*</span></b>/to/<b><span class="mark_black">*</span></b>/download/<b><span class="mark_black">*</span></b>.<b><span class="mark_black">*</span></b>' do
  params[:splat] # => ["<b>hello</b>", "<b>world</b>, <b>path/to/file</b>", "<b>xml</b>"]
end
<!-- # matches /say/hello/to/world/download/path/to/file.xml -->
</pre>
</section>

<section data-build>
<pre style="font-size:26px">
get '/posts<b><span class="mark_blue">.?</span></b><b><span class="mark_yellow">:format?</span></b>', :provides => ['rss', 'atom', 'xml'] do
  # matches any extension "GET /posts<b>.json</b>", "GET /posts<b>.xml</b>"..
end
</pre>
</section>

</div>





<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - RESTful web services
 *
-->
<div class="slide centercontents" data-backgroundid="bg-01">
  <header>RESTful web services</header>
  <section>
<pre style="font-size:24px">
<b>get</b> '/<b>beers</b>' do
  # get a listing of all beers 
end
</pre>

<pre style="font-size:24px">
<b>get</b> '/<b>beer</b>/:<b>id</b>' do
  # just get one beer
end
</pre>

<pre style="font-size:24px">
<b>post</b> '/<b>beer</b>'</b> do
  # create a new beer 
end
</pre>

<pre style="font-size:24px">
<b>put</b> '/<b>beer</b>/:<b>id</b>' do
  # HTTP PUT request method to update an existing beer
end
</pre>

<pre style="font-size:24px">
<b>delete</b> '/<b>beer</b>/:<b>id</b>' do
  # HTTP DELETE request method to remove a beer which's been sold!
end
</pre>

  </section>
</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 2.3. Static files
 *
-->
<div class="slide centercontents">
  <header>Static files</header>
  <section>
<pre style="font-size:28px">
# ditty.rb

require 'sinatra'

# by default ./public dir
<b>set :public_folder, File.dirname(__FILE__) + '<span class="mark_black">/static</span>' </b>

get '/' do
  "... some html here .."
end
</pre>
</section>

<section data-build>
<pre style="font-size:28px">
http://example.com/<span class="mark_yellow">css/style.css</span>
</pre>
<pre style="font-size:28px">
./static/<span class="mark_yellow">css/style.css</span>
</pre>
</section>

</div>









<!--------------------------------------- Slide -------------------------------------------------------
 *
 *  2.4. Let's up our site
 *
-->
<div class="slide centercontents"  data-backgroundid="bg-01">
  <header> Let's up our site</header>

<section>
<pre style="font-size:28px">
Put your <b><span class="mark_green">HTML</span></b>, <b><span class="mark_blue">CSS</span></b>, <b><span class="mark_red">JS</span></b> files in '<b><span class="mark_yellow">public</span></b>' folder
</pre>
</section>

<section data-build>
<pre style="font-size:28px">
# init.rb

require 'sinatra'

get '/' do
  <b>File.read('index.html')</b>
end
</pre>
</section>

<section data-build>
<pre style="font-size:28px">
$ ruby init.rb
</pre>
</section>  
</div>







<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 2.5. Views / Templates
 *
-->
<div class="slide centercontents">
  <header>Views / Templates</header>
  <section>

<pre style="font-size:22px">
get '/' do
  <b>code = "<%= Time.now %>"</b>
  <b>erb code</b>
end
</pre>

<pre style="font-size:26px">
get '/' do
  <b>erb :index</b>
end
</pre>


<pre style="font-size:22px">
get '/' do
  <b>erb :index, :layout => :post</b>
end
</pre>

<pre style="font-size:22px">
set :haml, :format => :html5

get '/' do
  <b>haml :index</b>
end
</pre>
  </section>

</div>





<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - Available Template Languages
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
    <section>
    <div style="font-size:110%; color:#fff" >
      <h1><span class="mark_green">You</span> <span class="mark_yellow">can</span> <span class="mark_red">use</span></h1>
      <h1>
        <span class="mark_black"><a href="http://haml-lang.com/" target="_blank"style="color:white">Haml</a></span>
        <span class="mark_white"><a href="http://www.kuwata-lab.com/erubis/" target="_blank"style="color:black">Erb</a></span>
        <span class="mark_black"><a href="http://builder.rubyforge.org/" target="_blank"style="color:white">Builder</a></span>
        <span class="mark_white"><a href="http://nokogiri.org/" target="_blank"style="color:black">Nokogiri</a></span>
      </h1>
      <h1>
        <span class="mark_white"><a href="http://sass-lang.com/" target="_blank"style="color:black">Sass</a></span>
        <span class="mark_black"><a href="http://sass-lang.com/" target="_blank"style="color:white">Scss</a></span>
        <span class="mark_white"><a href="http://www.lesscss.org/" target="_blank"style="color:black">Less</a></span>
        <span class="mark_black"><a href="http://www.liquidmarkup.org/" target="_blank"style="color:white">Liquid</a></span>
      </h1>
      <h1>
        <span class="mark_black"><a href="https://github.com/rtomayko/rdiscount" target="_blank"style="color:white">Markdown</a></span>
        <span class="mark_white"><a href="http://redcloth.org/" target="_blank"style="color:black">Textile</a></span>
        <span class="mark_black"><a href="http://rdoc.rubyforge.org/" target="_blank"style="color:white">RDoc</a></span>
        <span class="mark_white"><a href="http://radius.rubyforge.org/" target="_blank"style="color:black">Radius</a></span>
      </h1>
      <h1>
        <span class="mark_white"><a href="http://markaby.github.com/" target="_blank"style="color:black">Markaby</a></span>
        <span class="mark_black"><a href="http://slim-lang.com/" target="_blank"style="color:white">Slim</a></span>
        <span class="mark_white"><a href="https://github.com/minad/creole" target="_blank"style="color:black">Creole</a></span>
        <span class="mark_black"><a href="https://github.com/josh/ruby-coffee-script" target="_blank"style="color:white">CoffeeScript</a></span>
      </h1>

    </div>
  </section>

</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - Let's talk about HAML
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-32">
    <section style="margin-top: -480px; margin-left:-610px">
    <div style="font-size:110%; color:#fff;">
      <h1><span class="mark_white">Let's talk about</span> <span class="mark_green">HAML</span></h1>
    </div>
  </section>

</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - HAML intro
 *
-->
<div class="slide centercontents"  data-backgroundid="bg-01">
  <header>What is HAML?</header>
<p><br><br></p>
<section style="position:absolute; left:5px">
<pre style="font-size:27px">
<b><span class="mark_black">ERB</span></b>
<b>&lt;div id=</b>"profile">
  <b>&lt;div class=</b>"left column">
    <b>&lt;div id=</b>"date"><b><%=</b> print_date %>&lt;/div>
    <b>&lt;div id=</b>"address"><b><%=</b> user.address %>&lt;/div>
  &lt;/div>
  <b>&lt;div class=</b>"right column">
    <b>&lt;div id=</b>"email"><b><%=</b> user.email %>&lt;/div>
    <b>&lt;div id=</b>"bio"><b><%=</b> user.bio %>&lt;/div>
  &lt;/div>
&lt;/div>
</pre>
</section>

<section style="position:absolute; right:5px" data-build>
<pre style="font-size:27px">
<b><span class="mark_black">HAML</span></b>
<b>#</b>profile
  <b>.</b>left.column
    <b>#</b>date<b>=</b> print_date
    <b>#</b>address<b>=</b> user.address
  <b>.</b>right.column
    <b>#</b>email<b>=</b> user.email
    <b>#</b>bio<b>=</b> user.bio
</pre>
</section>

</div>




<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - Use HAML and SASS in Sinatra (CoffeeScript?)
 *
-->
<div class="slide centercontents"  data-backgroundid="bg-01">
  <header>HAML and SASS</header>

<section>
<pre style="font-size:26px">
$ gem install haml
</pre>
</section>

<section data-build>
<pre style="font-size:26px">
$ html2haml index.html > index.haml
</pre>
</section>

<section data-build>
<pre style="font-size:26px">
# init.rb

require 'sinatra'
<b>require 'haml'</b>

<b>get '/style.css' do</b>
  <b>sass :style</b>
end

get '/' do
  <b>haml :index</b>
end

</pre>
</section>  
</div>






<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 2.6. Views / Layouts
 * TODO: add text
-->
<div class="slide centercontents"  data-backgroundid="bg-01">
  <header>Views / Layouts</header>

<section>
<pre style="font-size:22px">
!!!
%html
  %head
    %title Todo
    %link{:rel=>'stylesheet', :href=>'/css/style.css'}
  %body
    #banner My To Do List
    <b>#new-todo
      %form{:method => "post"} ...
    #content
      %table
      - @todos.each do |todo|
        ...</b>
</pre>
</section>



<section data-build>
<pre style="font-size:22px">
!!!
%html
  %head
    %title Todo
    %link{:rel=>'stylesheet', :href=>'/css/style.css', :type => "text/css"}       
  %body
    #banner My To Do List
    <b>= yield</b>
</pre>
</section>

</div>




<!--------------------------------------- Slide -------------------------------------------------------
 *
 *  2.7. Configuration
 *
-->
<div class="slide centercontents">
  <header>Configuration</header>
  <section>
    
<section>
<pre style="font-size:26px">
configure :production do
  set :foo, 'bar'
  set(:doc_dir) { File.join(views, 'doc') }
end

get '/' do
  settings.foo? # => true
  settings.foo  # => 'bar'
  ...
end
</pre>
</section>

<ul style="font-size:24px">
  <li><b>views</b>: path to the views folder</li>
  <li><b>public_folder</b>: path to the folder public files are served from</li>
  <li><b>reload_templates</b>: reload templates between requests</li>
  <li><b>logging</b>: use the logger</li>
</ul>
  


</section>

</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 2.8. Sinatra provides you
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
    <section>
    <div style="font-size:110%; color:#fff">
      <h1><span class="mark_white">Sinatra provides you</span></h1>
      <h1><span class="mark_green">Filters</span>, <span class="mark_yellow">Helpers</span>, </h1>
      <h1><span class="mark_red">Error Handling</span>, <span class="mark_blue">Testing</span>,</h1>
      <h1><span class="mark_purple">Sessions</span>, <span class="mark_green">Cache</span>...</h1>
    </div>
  </section>

</div>






<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * TOPIC 3: Deploy: in minutes
 *
-->
<div class="slide transparent image" data-backgroundid="bg-13">
  <div data-build>
    <section class="bottomWide dark" data-auto>
      <h1><img style="max-width:90px; margin-bottom: -10px;" src="images/topic_3.png" />
      <span class="bluetheme" style="font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px;"><b>Deploy:</b> in minutes</span></h1>
    </section>
  </div>
</div>





<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - RACK
-->
<div class="slide transparent centercontents" data-backgroundid="bg-35">
    <section style="margin-top: -380px; margin-left:60px">
    <img src="./images/rack-logo.png"></img>
  </section>

</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 3.1. Rack Middleware
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
    <section>
    <div style="font-size:110%; color:#fff">
      <h1><span class="mark_white">Rack:</span> <span class="mark_black">a Ruby Webserver Interface</span></h1>
      <h1>aims to provide a <span class="mark_yellow">minimal</span> <span class="mark_green">API</span></h1>
      <h1>for connecting <span class="mark_purple">web servers</span></h1>
      <h1>and <span class="mark_blue">web frameworks</span>.</h1>
    </div>
  </section>

</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - heroku
-->
<div class="slide transparent centercontents" data-backgroundid="bg-37">
    <section style="margin-top: -480px; margin-left:-410px">
    <img src="./images/heroku-logo.png"></img>
  </section>

</div>

<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 3.2. Heroku: what is it?
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
  <section >
    <div style="font-size:110%; color:#fff">
      <h1><span class="mark_yellow">Heroku</span>: Agile deployment for </h1>
      <h1><span class="mark_red">Ruby</span>, <span class="mark_white">Node.js</span>, <span class="mark_black">Clojure</span></h1>
      <h1><span class="mark_white">Java</span>, <span class="mark_black">Python</span>, <span class="mark_white">Scala</span>.
      <h1>- with <span class="mark_green">free</span> plan,</h1>
      <h1>- fully <span class="mark_purple">automated</span> <span class="mark_purple">deploy</span> in a min </h1>
      <h1>- custom <span class="mark_blue">domain</span></h1>
      <h1><span class="mark_black"><a href="http://heroku.com"  style="color:#ccc" target="_blank">http://heroku.com</a></span></h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - Prepare app to deploy
 *
-->
<div class="slide centercontents">
  <header>Prepare app to deploy</header>
<section>
<pre style="font-size:28px">
# config.ru

require './ditty'

run Sinatra::Application

</pre>
</section>

<section data-build>
<pre style="font-size:28px">
# .gems

sinatra

</pre>
</section>

</div>





<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - Deploy to heroku
 *
-->
<div class="slide centercontents">
  <header>Deploy to Heroku</header>

<section>
<pre style="font-size:28px">
$ git init
$ git commit -am "initial commit"
</pre>
</section>

<section data-build>
<pre style="font-size:28px">
$ gem install heroku
</pre>
</section>

<section data-build>
<pre style="font-size:28px">
$ heroku create ditty
</pre>
</section>
</section>

<section data-build>
<pre style="font-size:28px">
$ git push heroku master
</pre>
</section>

</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - WAT
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-36">
  <section style="margin-left:590px; margin-top: -360px">
    <div style="font-size:130%; color:#fff">
      <h1><span class="mark_red">W A T</span> <span class="mark_green">?</span> <span class="mark_green">?</span></h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - Yep, we just now Deployed our web app o_O
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-38">
  <section style="margin-left:710px; margin-top:-200px;" >
    <div style="font-size:100%; color:#fff">
      <h1><span class="mark_white">Yep, we just now</span> </h1>
      <h1><span class="mark_red">Deployed</span>  <span class="mark_black">our</span> </h1>
      <h1><span class="mark_blue">web app</span></h1>
    </div>
  </section>
</div>





<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - screen-shot: Go to browser
 * TODO: add screen
-->
<!-- <div class="slide centercontents" data-backgroundid="bg-01">
  <header>Go to browser</header>
  <section>
    screen shot goes here...
  </section>
</div>
 -->





<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * TOPIC 4: DB: just use it
 *
-->
<div class="slide transparent image" data-backgroundid="bg-14">
  <div data-build>
    <section class="bottomWide dark" data-auto>
      <h1><img style="max-width:90px; margin-bottom: -10px;" src="images/topic_4.png" />
      <span class="bluetheme"style="font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px;"> <b>DB:</b> just use it</span></h1>
    </section>
  </div>
</div>









<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 4.1. ORM: It's easy
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-39">
  <section style="margin-top:-400px;" >
    <div style="font-size:170%; color:#fff">
      <h1><span class="mark_red">ORM</span>: <span class="mark_green">It's easy</span> </h1>
    </div>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - datamapper
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
  <section >
    <div style="font-size:100%; color:#fff">
      <h1><span class="mark_white">DataMapper</span> is an <span class="mark_red">ORM</span></h1>
      <h1> written in Ruby.</h1>
      <h1><span class="mark_black">The goal</span> is to create an ORM </h1>
      <h1>which is <span class="mark_green">fast</span>, <span class="mark_blue">thread-safe</span> </h1>
      <h1>and <span class="mark_purple">feature rich</span></h1>
      <h1><span class="mark_white"><a href='http://datamapper.org' style="color:#112" target="_blank">http://datamapper.org</a></span></h1>
    </div>
  </section>
</div>




<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - How to include some ORM (DataMapper or Active Record)
 *
-->
<div class="slide centercontents">
  <header>How to use</header>
  <section>
    <br>
<pre style="font-size:27px">
require 'sinatra'
<b>require 'data_mapper'</b> # metagem, requires common plugins too.

 <b>DataMapper.setup(:default, "sqlite3://#{Dir.pwd}/blog.db")</b>
# DataMapper.setup(:default, 'mysql://user:pass@host/db')

class Post
    <b>include DataMapper::Resource</b>
    property :id, Serial
    property :title, String
    property :body, Text
    property :created_at, DateTime
end

<b>Post.auto_upgrade!</b> # automatically create the post table
</pre>

  </section>
<section data-build>
<pre style="font-size:30px">
$ gem install data_mapper
</pre>
</section>
</div>



<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - ORM
 *
-->
<div class="slide centercontents">
  <header>Use it</header>
  <section>
<pre style="font-size:28px">
# your app

get '/' do
    # get the latest 20 posts
    <b><span class="mark_black">@posts</span> = Post.all(:order => [:id.desc], :limit => 20)</b>
    erb :index
end
</pre>
  </section>

<section data-build>
<pre style="font-size:28px" >
# ./view/index.html

<% <b><span class="mark_black">@posts</span>.each do |post|</b> %>
    &lt;h3><%= <b>post.title</b> %>&lt;/h3>
    &lt;p><%=  <b>post.body</b> %>&lt;/p>
<% end %>
</pre>
  </section>

</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - Associations
 *
-->
<div class="slide centercontents">
  <header>Associations</header>
<section style="position:absolute; left:25px">
  <br>
<pre style="font-size:26px">
# one-to-one

class Post
  <b>has n, :comments</b>
end

class Comment
  <b>belongs_to :post</b>
end
</pre>
  </section>

<section style="position:absolute; right:25px" data-build>
<pre style="font-size:25px" >
# many-to-many

class <b>Categorization</b>
  include DataMapper::Resource

  property :id,         Serial

  <b>belongs_to :category</b>
  <b>belongs_to :post</b>
end

class <b>Post</b>
  <b>has n, :categorizations</b>
  <b>has n, :categories, :through => :categorizations</b>
end

class <b>Category</b>
  <b>has n, :categorizations</b>
  <b>has n, :posts,      :through => :categorizations</b>
end
</pre>
  </section>
</div>


<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * 4.2. NoSQL - no problems
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-40">
  <section style="margin-top:-200px; margin-left:-650px;" >
    <div style="font-size:150%; color:#fff">
      <h1><span class="mark_red">NoSQL</span> - </h1>
      <h1><span class="mark_green">No problems</span> </h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * - mongoid
 *
-->
<div class="slide transparent centercontents" data-backgroundid="bg-01">
  <section >
    <div style="font-size:100%; color:#fff">
      <h1><span class="mark_white">MongoID</span> is an Object-Document-Mapper</h1>
      <h1>(<span class="mark_red">ODM</span>) for <span class="mark_yellow">MongoDB</span> written in Ruby.</h1>
      <h1><span class="mark_black">The aim</span> is to provide a <span class="mark_purple">familiar API</span> to </h1>
      <h1><span class="mark_green">Active Record</span> or <span class="mark_blue">Data Mapper</span></h1>
      <h1><span class="mark_white"><a href='http://mongoid.org' style="color:#112" target="_blank">http://mongoid.org</a></span></h1>
    </div>
  </section>
</div>



<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - NoSQL
 *
-->
<div class="slide centercontents">
  <header>How to use</header>
  <section>
    <br>
<pre style="font-size:28px">
require 'sinatra'
require 'haml'
<b>require 'mongoid'</b> 

configure do
  Mongoid.configure do |config|
    <b>config.master = Mongo::Connection.new.db('app_db_name')</b>
  end
end

class Image
  <b>include Mongoid::Document</b>
  <b>field :title, type: String</b>
end

</pre>

  </section>
<section data-build>
<pre style="font-size:30px">
$ gem install mongoid
</pre>
</section>
</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - NoSQL
 *
-->
<div class="slide centercontents">
  <header>Use it</header>
  <section>
<pre style="font-size:28px">
get '/' do
  <b>@images = Image.all</b>
  haml :index
end
</pre>
  </section>

<section>
<pre style="font-size:28px" >
post '/' do
  <b>@image = Image.new(:title => params['title'])</b>
  <b>@image.save</b>
  redirect '/'
end
</pre>
  </section>

<section>
<pre style="font-size:28px" >
get '/image/:id' do
  <b>@image = Image.find(params[:id])</b>
  haml :show
end
</pre>
  </section>

</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * - NoSQL
 *
-->
<div class="slide centercontents">
  <header>Views</header>
  <section>

<pre style="font-size:26px">
# index.haml

%ul
-for img in @images
  %li
    %a{:href => "/image/#{img.id}"}
      %img{:src => img.image}
%h2 Add photo
%form{:name => "new_image", :id =>"new_image", :method => "POST", 
      :enctype => "multipart/form-data"}
  %label Title
  %input{:type=>"text", :name => "title"}
  %label Photo
  %input{:type=>"file", :name => "image"}
  %input{:type=>"submit", :value => "Save"}
</pre>

  </section>
<section data-build>
<pre style="font-size:26px">
# show.haml
%h1= @image.title
%img{:src => @image.image}
</pre>
</section>
</div>




<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * TOPIC 5: Sinatra: more
 *
-->
<div class="slide transparent image" data-backgroundid="bg-15">
  <div data-build>
    <section class="bottomWide dark" data-auto>
      <h1><img style="max-width:90px; margin-bottom: -10px;" src="images/topic_5.png" />
      <span class="" style="font-size:65px;font-family:'Bad Script';text-shadow: #111 2px 4px;"><b>Sinatra:</b> more</span></h1>
    </section>
  </div>
</div>





<!--------------------------------------- Slide -------------------------------------------------------
 *
 * Up and Running
 *
-->
<div class="slide centercontents" data-backgroundid="bg-01">
  <header>Shotgun: reloading rack development server</header>
  <section>

<section>
<pre style="font-size:36px">
$ gem install shotgun
</pre>
<br>
</section>

<section data-build>

<pre style="font-size:36px">
$ shotgun -p 4567 ditty.rb

</pre>
</section>
<br>
<section data-build>
<a href="http://rtomayko.github.com/shotgun/" target="_blank">http://rtomayko.github.com/shotgun</a>
</section>

</div>




<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 5.1. Authentication
 * TODO: add
-->
<div class="slide centercontents">
  <header>Authentication</header>
  <section>
<pre style="font-size:26px">
helpers do
  def protected!
    throw(:halt, [401, "Not authorized\n"])  unless authorized?
  end
  def authorized?
    @auth ||=  Rack::Auth::Basic::Request.new(request.env)
    @auth.provided? && @auth.basic? && @auth.credentials 
                    && @auth.credentials == ['admin', 'admin']
  end
end

get '/' do "Everybody can see this page" end

get '/protected' do
  protected!
  "Welcome, authenticated client"
end
</pre>

  </section>
<section data-build>
<pre style="font-size:26px">
<a href="https://github.com/jsmestad/sinatra_warden" target="_blank">https://github.com/jsmestad/sinatra_warden</a>
</pre>
</section>
</div>




<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 5.2. Rack Modules
 * TODO: add
-->
<div class="slide centercontents">
  <header>Rack Modules</header>

  <section style="font-size: 26px;">
    <ul>
      <li><b>JSON-P</b> - Adds JSON-P support</li>
      <li><b>Cache</b> - is suitable as a quick drop-in component to enable HTTP cachin</li>
      <li><b>Warden</b> - General Rack Authentication Framework</li>
      <li><b>MailExceptions</b> - Rescues exceptions raised from the app and sends a useful email with the exception, stacktrace, and contents of the environment.</li>
      <li><b>TimeZone</b> - Detects the client’s timezone using JavaScript and sets a variable in Rack’s environment with the offset from UTC.</li>
      <li><b>Access</b> - Limits access based on IP address</li>
      <li><b>Deflect</b> - Helps protect against DoS attacks</li>
      <li>...</li>
    </ul>
    <a href="https://github.com/rack/rack-contrib" target="_blank">https://github.com/rack/rack-contrib</a><br>
    <a href="http://coderack.org/middlewares" target="_blank">http://coderack.org/middlewares</a>
  </section>

</div>






<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 5.5. Files Upload/Download
 * TODO: add
-->
<div class="slide centercontents">
  <header>Send Files</header>

<section>
<pre style="font-size:26px">
get '/' do
  send_file 'foo.png', :type => :jpg
end
</pre>
</section>

</div>




<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 5.6. Social networks
 * TODO: add
-->
<div class="slide centercontents">
  <header>A Ruby wrapper for the Twitter API</header>

<section>
<pre style="font-size:26px">
<b>Twitter.update("I'm tweeting with @gem!")</b>  # Update your status

<b>Twitter.home_timeline.first.text</b>  # Read the most recent Tweet

# Find posts from @pacemaker_conf
<b>Twitter.search("from:@pacemaker_conf").map do |m|</b>
  <b>"#{m.from_user}: #{m.text}"</b>
end

<b>Twitter.status(27558893223).text</b>  # Return the text of the Tweet

<b>Twitter.user("pacemaker_conf").location</b> # Return location
</pre>
</section>

<section>
<pre style="font-size:30px">
$ gem install twitter
</pre>
</section>

<section>
    <a href="https://github.com/jnunemaker/twitter">https://github.com/jnunemaker/twitter</a>
  </section>
</div>





<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 5.7. API example
 * TODO: add
-->
<div class="slide centercontents">
  <header>Twitter news API example</header>

  <section>
    <br>
<pre style="font-size:26px">
require 'sinatra'
<b>require 'twitter'</b>

Twitter.configure do |config| ... end

get '/twitter' do  File.read('public/twitter.html')  end

get '/t' do
  posts = {}
  <b>Twitter.search("#pacemaker_conf").map do |m|</b>
      posts[m.created_at] = { :user => m.from_user_name, 
                              :author => m.from_user, 
                              :photo => m.profile_image_url, 
                              :msg => m.text}
  end
  tweets = posts.keys.sort{|x, y| y <=> x }
  tweets = tweets.inject({}){|t, key| t[key] = posts[key]; t}
  <b>tweets.to_json</b>
end
</pre>
  </section>

</div>



<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 5.7. API example
 * TODO: add
-->
<div class="slide centercontents">
  <header>JSON example</header>

<section>
  <br>
<pre style="font-size:30px">
{ "2012-04-06 02:56:05 -0700":
  
    { "user"    : "Alex Mekhovov",
      "author"  : "Mekhovov",
      "photo"   : "http://a0.twimg.com/ .. /avatar.jpeg",
      "msg"     : "1 day left until Pacemaker JS.."
    },

  "2012-04-06 02:55:01 -0700":
  
    { "user"    : "pacemaker",
      "author"  : "pacemaker_conf",
      "photo"   : "http://a0.twimg.com/ .. /photo.png",
      "msg"     : "Welcome onboard !"
    }
}
</pre>

</section>



</div>


<!--------------------------------------- Slide -------------------------------------------------------
 *
 * Go to Browser
 *
-->
<div class="slide centercontents" data-backgroundid="bg-01">
  <header>Twitter posts an pacemaker site</header>
  <section>
    <span>
        <img src="images/screen-3.png" style="width:760px;"></img>
      </span>
      <a href="http://pacemaker.pp.ua" target="_blank">http://pacemaker.pp.ua</a>
  </section>
</div>



<!--------------------------------------- Slide -------------------------------------------------------
 *
 * Go to Browser
 *
-->
<div class="slide centercontents" data-backgroundid="bg-01">
  <header>Pacemaker Twitter news</header>
  <section>
    <span>
        <img src="images/screen-4.png" style="width:760px;">
      </span>
      <a href="https://github.com/mekhovov/pacemaker_conf" target="_blank">https://github.com/mekhovov/pacemaker_conf</a>
  </section>
</div>



<!--------------------------------------- Slide -------------------------------------------------------
 *
 * 5.8. Links
 *
-->
<div class="slide centercontents">
  <header>Links</header>

  <section style="font-size: 28px">
    <ul>
      <li><a href="http://sinatrarb.com" target="_blank">http://sinatrarb.com</a></li>
      <li><a href="http://heroku.com" target="_blank">http://heroku.com</a></li>
      <li><a href="http://rubyinstaller.org/" target="_blank">http://rubyinstaller.org</a></li>
      <li><a href="http://haml-lang.com/" target="_blank">http://haml-lang.com</a></li>
      <li><a href="http://datamapper.org/" target="_blank">http://datamapper.org</a></li>
      <li><a href="http://mongoid.org" target="_blank">http://mongoid.org</a></li>
      <li><a href="http://rtomayko.github.com/shotgun" target="_blank">http://rtomayko.github.com/shotgun</a></li>
      <li><a href="https://github.com/jnunemaker/twitter" target="_blank">https://github.com/jnunemaker/twitter</a></li>
      <li><a href="https://github.com/rack/rack" target="_blank">https://github.com/rack/rack</a></li>
      <li><a href="https://github.com/jsmestad/sinatra_warden" target="_blank">https://github.com/jsmestad/sinatra_warden</a></li>
      <li><a href="http://sinatra.pp.ua" target="_blank">http://sinatra.pp.ua</a></li>
      <li><a href="https://github.com/mekhovov/sinatra_presentation" target="_blank">https://github.com/mekhovov/sinatra_presentation</a></li>
      <li><a href="https://github.com/mekhovov/pacemaker_conf" target="_blank">https://github.com/mekhovov/pacemaker_conf</a></li>
      <li><a href="http://www.htmlfivewow.com/">http://www.htmlfivewow.com</a></li>
    </ul>
  </section>

</div>








<!--------------------------------------- Slide  -------------------------------------------------------
 *
 * QUESTIONS
 *
-->

<div class="slide transparent image" data-backgroundid="bg_metal">
  <div data-build>
    <section data-auto style="background:none">
    <span style="margin-left:130px">
      <img src="images/sinatra_metal.png" style="height:500px;margin-top:150px">
      <div class="topmic">
        <h1 style="margin-left:330px;margin-top:-200px;font-size:55px;font-family:'Bad Script';text-shadow: #111 2px 4px; color:orange">QUESTIONS ?</h1>
      </div>
    </span>
    </section>
  </div>
</div>








<!=========================================== The End ===================================================
 *
 * No more Slides
 *
-->

    </div>
    <div id="overlay"></div>

    <script src="js/libs/less-1.0.41.min.js" async></script>
    <script src="js/prettify/prettify.js" async></script>
    <script src="js/libs/glMatrix-0.9.5.min.js" async></script>
    <script src="js/config.js" defer></script>
    <!--<script src="socket.io/socket.io.js" defer></script>-->
    <script src="js/libs/yepnope.1.0.1-min.js" defer></script>
    <script src="js/slide-presentation.js" defer></script>
    <script src="js/slide-content.js" defer></script>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30673614-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    <!--[if IE]>
    <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
    <script>CFInstall.check({mode: 'overlay'});</script>
    <![endif]-->
    <div id="background"></div>
    <div id="stage"></div>
  </body>
</html>

